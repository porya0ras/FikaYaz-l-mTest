(function(){"use strict";angular.module("app",["app.controllers","app.filters","app.directives"])})(),function(){"use strict";angular.module("app.controllers",[]).controller("HomeCtrl",["$scope","$http","$window","$timeout",function(n,t,i,r){n.page=1;n.editedId=0;n.SinifOgretmenler=[];n.RehberOgretmenler=[];n.Hobiler=[];n.bolumler=[];n.Ogrenciler=[];n.OgrencilerCount=0;n.RehberOgretmeni={label:"-select-"};n.SinifOgretmeni={label:"-select-"};n.Hobi=[];n.bolum={label:"-select-"};n.AdSoyad="";n.Ogrenci={};n.SilinanOgrenci={};n.NewRehberOgretmeni={label:"-select-"};n.NewSinifOgretmeni={label:"-select-"};n.NewHobi=[];n.Newbolum={label:"-select-"};n.NAdSoyad="";n.NewOgrenci={};n.HobiFilter=[];n.AdSoyadFilter="";n.SinifOgretmeniFilter={};n.SilinmeNedini="";n.bolumSort=0;n.AdSoyadSort=0;n.SinifOgretmeniSort=0;n.init=function(){console.log("init");n.GetSinifOgretmenler();n.GetRehberOgretmenler();n.GetHobiler();n.Getbolumler();n.GetOgrenciler()};n.GetSinifOgretmenler=function(){t.get("/GetSinifOgretmenler").then(function(t){n.SinifOgretmenler=t.data})};n.GetRehberOgretmenler=function(){t.get("/GetRehberOgretmenler").then(function(t){n.RehberOgretmenler=t.data})};n.GetHobiler=function(){t.get("/GetHobiler").then(function(t){n.Hobiler=t.data})};n.Getbolumler=function(){t.get("/Getbolumler").then(function(t){n.bolumler=t.data})};n.GetOgrenciler=function(){var i="page="+n.page;if(n.AdSoyadSort!=0&&(i+="&SortByAdSonad="+n.AdSoyadSort),n.bolumSort!=0&&(i+="&SortByBolum="+n.bolumSort),n.SinifOgretmeniSort!=0&&(i+="&SortBySinifOgretmen="+n.SinifOgretmeniSort),n.SinifOgretmeniFilter.id!=undefined&&n.SinifOgretmeniFilter.id!=0&&(i+="&SinifOgretmeni="+n.SinifOgretmeniFilter.id),n.AdSoyadFilter!=""&&(i+="&Ara="+n.AdSoyadFilter),n.HobiFilter.length>0)for(let t in n.HobiFilter)i+="&Hobiler["+t+"]="+n.HobiFilter[t].id;t({method:"POST",url:"/GetOgrenciler",data:i,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){n.Ogrenciler=t.data.searchRes;n.OgrencilerCount=t.data.count},function(n){return Lobibox.notify("error",{delay:4e3,size:"mini",icon:!0,title:"Error",msg:n,position:"top right"}),!1})};n.Sil=function(i){var u="Id="+i.id;u+="&Reason="+$("#SilinmeNedini").val();t({method:"POST",url:"/Sil",data:u,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(){console.log("Done!");n.SilinmeNedini="";$("#SilinmeNedini").val(n.SilinmeNedini);n.SilinanOgrenci={};n.showSilModal=!1;r(function(){n.GetOgrenciler()},2e3);Lobibox.notify("success",{delay:4e3,size:"mini",icon:!0,msg:"Silinde !",position:"top right"})},function(n){return Lobibox.notify("error",{delay:4e3,size:"mini",icon:!0,title:"Error",msg:n,position:"top right"}),!1})};n.Vazgec=function(){n.SilinmeNedini="";n.SilinanOgrenci={};n.showSilModal=!1};n.Detay=function(t){n.editedId=t.id;n.GetOgrenci(n.editedId)};n.GetOgrenci=function(i){t.get("/GetOgrenci/"+i).then(function(t){n.Ogrenci=t.data;n.RehberOgretmeni=n.Ogrenci.rehberOgretmeni;n.SinifOgretmeni=n.Ogrenci.sinifOgretmeni;n.Hobi=n.Ogrenci.hobilar;n.bolum=n.Ogrenci.bolum;n.AdSoyad=n.Ogrenci.nameFamily})};n.ChangePage=function(t){n.page=t;n.GetOgrenciler()};n.ChangeAdSoyadSort=function(){n.AdSoyadSort=n.AdSoyadSort==0?1:n.AdSoyadSort==1?-1:1;n.SinifOgretmeniSort=0;n.bolumSort=0;n.GetOgrenciler()};n.ChangeSinifOgretmeniSort=function(){n.SinifOgretmeniSort=n.SinifOgretmeniSort==0?1:n.SinifOgretmeniSort==1?-1:1;n.bolumSort=0;n.AdSoyadSort=0;n.GetOgrenciler()};n.ChangebolumSort=function(){n.bolumSort=n.bolumSort==0?1:n.bolumSort==1?-1:1;n.SinifOgretmeniSort=0;n.AdSoyadSort=0;n.GetOgrenciler()};n.showModal=!1;n.YeniOgrenci=function(){n.showModal=!n.showModal};n.showSilModal=!1;n.SilOgrenci=function(t){n.showSilModal=!n.showSilModal;n.SilinanOgrenci=t};n.setBolum=function(t){n.bolum=t};n.setRehberOgretmeni=function(t){n.RehberOgretmeni=t};n.setSinifOgretmeni=function(t){n.SinifOgretmeni=t};n.setHobi=function(t){n.Hobi.push(t)};n.setNewBolum=function(t){n.Newbolum=t};n.setNewRehberOgretmeni=function(t){n.NewRehberOgretmeni=t};n.setNewSinifOgretmeni=function(t){n.NewSinifOgretmeni=t};n.setNewHobi=function(t){n.NewHobi.push(t)};n.setSinifOgretmeniFilter=function(t){n.SinifOgretmeniFilter=t};n.setHobiFilter=function(t){n.HobiFilter.push(t)};n.kaydetSubmit=function(){(n.RehberOgretmeni!=n.Ogrenci.rehberOgretmeni||n.SinifOgretmeni!=n.Ogrenci.sinifOgretmeni||n.Hobi!=n.Ogrenci.hobilar||n.bolum!=n.Ogrenci.bolum||n.AdSoyad!=n.Ogrenci.nameFamily)&&(n.Ogrenci.rehberOgretmeni=n.RehberOgretmeni,n.Ogrenci.sinifOgretmeni=n.SinifOgretmeni,n.Ogrenci.hobilar=n.Hobi,n.Ogrenci.bolum=n.bolum,n.Ogrenci.nameFamily=n.AdSoyad,n.Save(n.Ogrenci))};n.kaydetNewSubmit=function(){n.NewOgrenci.id=0;n.NewOgrenci.nameFamily=$("#NAdSoyad").val();n.NewOgrenci.hobilar=n.NewHobi;n.NewOgrenci.rehberOgretmeni=n.NewRehberOgretmeni;n.NewOgrenci.sinifOgretmeni=n.NewSinifOgretmeni;n.NewOgrenci.bolum=n.Newbolum;n.Save(n.NewOgrenci)};n.Save=function(i){var u="Id="+i.id;if(u+="&NameFamily="+i.nameFamily,u+="&Bolum="+i.bolum.id,u+="&SinifOgretmeni="+i.sinifOgretmeni.id,u+="&RehberOgretmeni="+i.rehberOgretmeni.id,i.hobilar.length>0)for(let n in i.hobilar)u+="&Hobiler["+n+"]="+i.hobilar[n].id;t({method:"POST",url:"/Kaydet",data:u,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){t.data&&(i.id!=0?(n.RehberOgretmeni={label:"-select-"},n.SinifOgretmeni={label:"-select-"},n.Hobi=[],n.bolum={label:"-select-"},n.AdSoyad="",n.Ogrenci={},n.GetOgrenciler()):(n.NewRehberOgretmeni={label:"-select-"},n.NewSinifOgretmeni={label:"-select-"},n.NewHobi=[],n.Newbolum={label:"-select-"},n.NAdSoyad="",$("#NAdSoyad").val(n.NAdSoyad),n.NewOgrenci={},r(function(){n.GetOgrenciler()},2e3),n.showModal=!1),Lobibox.notify("success",{delay:4e3,size:"mini",icon:!0,msg:"Save Olde!",position:"top right"}))},function(n){return Lobibox.notify("error",{delay:4e3,size:"mini",icon:!0,title:"Error",msg:n,position:"top right"}),!1})};n.clearHobiFilter=function(){n.HobiFilter=[]};n.clearSinifOgretmeniFilter=function(){n.SinifOgretmeniFilter={}};n.clearNewRehberOgretmeni=function(){n.NewRehberOgretmeni={label:"-select-"}};n.clearNewSinifOgretmeni=function(){n.NewSinifOgretmeni={label:"-select-"}};n.clearNewHobi=function(){n.NewHobi=[]};n.clearNewbolum=function(){n.Newbolum={label:"-select-"}};n.clearRehberOgretmeni=function(){n.RehberOgretmeni={label:"-select-"}};n.clearNewSinifOgretmeni=function(){n.SinifOgretmeni={label:"-select-"}};n.clearHobi=function(){n.Hobi=[]};n.clearNewbolum=function(){n.bolum={label:"-select-"}}}])}(),function(){"use strict";angular.module("app.filters",[]).filter("range",function(){return function(n,t){t=parseInt(t);for(var i=1;i<=t;i++)n.push(i);return n}})}(),function(){"use strict";angular.module("app.directives",[]).directive("modal",function(){return{template:'<div class="modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h4 ng-if="title!=\'\'" class="modal-title">{{ title }}<\/h4><\/div><div class="modal-body" ng-transclude><\/div><\/div><\/div><\/div>',restrict:"E",transclude:!0,replace:!0,scope:!0,link:function(n,t,i){n.title=i.title;n.$watch(i.visible,function(n){n==!0?$(t).modal("show"):$(t).modal("hide")});$(t).on("shown.bs.modal",function(){n.$apply(function(){n.$parent[i.visible]=!0})});$(t).on("hidden.bs.modal",function(){n.$apply(function(){n.$parent[i.visible]=!1})})}}})}();